@model ToDo.ViewModels.TasksFormViewModel

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Details</h2>


@using (Html.BeginForm("Create", "ToDoTasks"))
{
    @Html.AntiForgeryToken()

    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.HiddenFor(model => model.ToDoTask.Id)

    <div class="form-group">
        @Html.EditorFor(model => model.ToDoTask.Name, new { htmlAttributes = new { @class = "form-control" } })
        @Html.ValidationMessageFor(model => model.ToDoTask.Name, "", new { @class = "text-danger" })
    </div>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>
                    Date Added
                </th>
                <th>
                    Date Ended
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    @Html.DisplayTextFor(m => m.ToDoTask.DateAdded)
                </td>
                <td>
                    @Html.DisplayTextFor(m => m.ToDoTask.DateEnded)
                </td>
            </tr>
        </tbody>
    </table>
    <hr />

    <table class="table table-striped table-hover ">
        <thead>
            <tr>
                <th>Assigned To</th>
                <th>Steps</th>
            </tr>
        </thead>
        <tbody>
            <tr class="info">
                <td>
                    <div class="form-group">

                        @foreach (var user in Model.ToDoTask.ToDoUsers)
                        {

                            <p class="lead">
                                @Html.ActionLink(user.Name, "Details", "ToDoUsers", new { id = user.Id }, null)
                            </p>

                        }
                    </div>
                </td>
                <td>
                    @foreach (var step in Model.ToDoSteps)
                    {
                        <ul>
                            <li class="glyphicon glyphicon-asterisk">
                                @Html.DisplayFor(s => step.Name)
                            </li>
                        </ul>
                    }


                </td>
            </tr>
        </tbody>
    </table>

    <dl class="dl-horizontal">
    </dl>

    <ul class="pager">
        <li>@Html.ActionLink("Previous", "Details", new { id = Model.ToDoTask.Id - 1 })</li>
        <li>@Html.ActionLink("Next", "Details", new { id = Model.ToDoTask.Id + 1 })</li>
    </ul>


    <div class="form-group">
        <input type="submit" value="Save" class="btn btn-default" />
    </div>

}







<p>
    @Html.ActionLink("Edit", "Edit"@*, new { id = Model.Id }*@) |
    @Html.ActionLink("Back to List", "Index")
</p>
